 <!-- Image Modal -->
<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="img01" />
</div>
 <div id="authOverlay">
  <div id="authPopup">
    <span id="closeAuthPopup">&times;</span>

  {{#if error}}
    <p class="popup-error">{{error}}</p>
  {{/if}}

    <p>â€œTo proceed, please register an account.
       Already a member? Simply log in to continue. <br>
    <span>Enjoy exclusive features once youâ€™re signed in!â€</span></p>
    <a href="/register">Register</a> | <a href="/login">Login</a>
  </div>
</div>

<script>
const modal = document.getElementById("myModal");
const modalImg = document.getElementById("img01");
const span = document.getElementsByClassName("close")[0];

const modalDetails = document.createElement("div");
modalDetails.className = "modal-details";
modal.appendChild(modalDetails);

let currentBag = null; 
 
document.addEventListener("click", (e) => {
  if (e.target.tagName === "IMG") {
    const index = e.target.dataset.index;
    currentBag = bags[index];
    modal.style.display = "block"; 
    modalImg.src = currentBag.image;
    modalDetails.innerHTML = `
      <p class="modal-discount">${currentBag.discount}</p>
      <h2 class="modal-title">${currentBag.description}<span> (${currentBag.site})</span></h2>
      <p class="modal-original">${currentBag.originalPrice}</p>
      <p class="modal-price">${currentBag.price}</p>
      <button class="modal-order-btn" onclick="handleRedirect('${currentBag.orderLink}')">
        ğŸ›’ Order Now
      </button>
    `;
  }
});

span.onclick = () => { modal.style.display = "none"; };
</script>
<script src="/js/redirect.js"></script>
